"use strict";(this.webpackChunkRLAdmin=this.webpackChunkRLAdmin||[]).push([[576],{7011:(e,t,r)=>{r.r(t),r.d(t,{UrlList:()=>Ue});var i=r(2784),n=r(7029),a=r(8889),s=r(6027),l=r(5992),o=r(6281),c=r(4073),u=r(7104),d=r(8887),h=r(9606),g=r(969),m=r(9312),p=r(1740),f=r(2681),y=r(8268),b=r(7705),v=r(1892),E=r(9360),w=r(2940),F=r(321);function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},S.apply(this,arguments)}function C(e){let{dense:t,onChangeDense:r,rowsPerPageOptions:n=[5,10,25],sx:a,...s}=e;return i.createElement(p.Z,{sx:{...a}},r&&i.createElement(w.Z,{label:"Dense",control:i.createElement(E.Z,{checked:t,onChange:r}),sx:{pl:2,py:1.5}}),i.createElement(F.Z,S({rowsPerPageOptions:n,component:"div"},s,{sx:{borderTopColor:"transparent"}})))}const x=r.p+"e503aec708eb2a9768c7.svg";var M=r(3609),D=r(8120),k=r(6286),I=r(8642),z=r(189),A=r(8907),P=r(2691),T=r(5936),R=r(3415);function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},B.apply(this,arguments)}const O=(0,i.forwardRef)((function(e,t){return i.createElement(R.Z,B({direction:"up",ref:t},e))}));function L(e){let{lighthouseJSONErrMessage:t}=e;const[r,n]=(0,i.useState)(!0),a=()=>{n(!1)};return i.createElement(i.Fragment,null,i.createElement(I.Z,{open:r,TransitionComponent:O,keepMounted:!0,onClose:a,"aria-describedby":"alert-dialog-slide-description"},i.createElement(T.Z,null,"Use Google's location service?"),i.createElement(A.Z,null,i.createElement(P.Z,{id:"alert-dialog-slide-description"},t)),i.createElement(z.Z,null,i.createElement(k.Z,{onClick:a},"Ok"))))}var _=r(5302),Z=r(7591),W=r(4599);const j=(0,l.ZP)(_.Z)((e=>{let{theme:t}=e;return{"& .apexcharts-canvas":{"& .apexcharts-tooltip":{...(0,W.Ls)({color:t.palette.background.default}),color:t.palette.text.primary,boxShadow:t.customShadows.dropdown,borderRadius:1.25*t.shape.borderRadius,"&.apexcharts-theme-light":{borderColor:"transparent",...(0,W.Ls)({color:t.palette.background.default})}},"& .apexcharts-xaxistooltip":{...(0,W.Ls)({color:t.palette.background.default}),borderColor:"transparent",color:t.palette.text.primary,boxShadow:t.customShadows.dropdown,borderRadius:1.25*t.shape.borderRadius,"&:before":{borderBottomColor:(0,Z.Fq)(t.palette.grey[500],.24)},"&:after":{borderBottomColor:(0,Z.Fq)(t.palette.background.default,.8)}},"& .apexcharts-tooltip-title":{textAlign:"center",fontWeight:t.typography.fontWeightBold,backgroundColor:(0,Z.Fq)(t.palette.grey[500],.08),color:t.palette.text["light"===t.palette.mode?"secondary":"primary"]},"& .apexcharts-legend":{padding:0},"& .apexcharts-legend-series":{display:"inline-flex !important",alignItems:"center"},"& .apexcharts-legend-marker":{marginRight:8},"& .apexcharts-legend-text":{lineHeight:"18px",textTransform:"capitalize"}}}})),N=(0,i.memo)(j);var U=r(8537),V=r.n(U),G=r(7746),H=r(7149);function q(e){let{value:t}=e;const r=(0,G.Z)(),n=()=>t>=90?[r.palette.success.light,r.palette.success.main]:t>=50?[r.palette.warning.light,r.palette.warning.main]:[r.palette.error.light,r.palette.error.main],a=function(e){const t=(0,G.Z)(),r=function(e,t,r){const i=(0,G.Z)(),n=(0,H.Z)(i.breakpoints.up(t));return(0,H.Z)(i.breakpoints.down(t)),(0,H.Z)(i.breakpoints.between(t,void 0)),(0,H.Z)(i.breakpoints.only(t)),n}(0,"sm"),i={show:!0,label:"Total",color:t.palette.text.secondary,fontSize:t.typography.subtitle2.fontSize,fontWeight:t.typography.subtitle2.fontWeight,lineHeight:t.typography.subtitle2.lineHeight},n={offsetY:8,color:t.palette.text.primary,fontSize:t.typography.h3.fontSize,fontWeight:t.typography.h3.fontWeight,lineHeight:t.typography.h3.lineHeight},a={colors:[t.palette.primary.main,t.palette.warning.main,t.palette.info.main,t.palette.error.main,t.palette.success.main,t.palette.warning.dark,t.palette.success.darker,t.palette.info.dark,t.palette.info.darker],chart:{toolbar:{show:!1},zoom:{enabled:!1},foreColor:t.palette.text.disabled,fontFamily:t.typography.fontFamily},states:{hover:{filter:{type:"lighten",value:.04}},active:{filter:{type:"darken",value:.88}}},fill:{opacity:1,gradient:{type:"vertical",shadeIntensity:0,opacityFrom:.4,opacityTo:0,stops:[0,100]}},dataLabels:{enabled:!1},stroke:{width:3,curve:"smooth",lineCap:"round"},grid:{strokeDashArray:3,borderColor:t.palette.divider,xaxis:{lines:{show:!1}}},xaxis:{axisBorder:{show:!1},axisTicks:{show:!1}},markers:{size:0,strokeColors:t.palette.background.paper},tooltip:{theme:!1,x:{show:!0}},legend:{show:!0,fontSize:13,position:"top",horizontalAlign:"right",markers:{radius:12},fontWeight:500,itemMargin:{horizontal:8},labels:{colors:t.palette.text.primary}},plotOptions:{bar:{borderRadius:r?3:1,columnWidth:"28%",borderRadiusApplication:"end",borderRadiusWhenStacked:"last"},pie:{donut:{labels:{show:!0,value:n,total:i}}},radialBar:{track:{strokeWidth:"100%",background:(0,Z.Fq)(t.palette.grey[500],.16)},dataLabels:{value:n,total:i}},radar:{polygons:{fill:{colors:["transparent"]},strokeColors:t.palette.divider,connectorColors:t.palette.divider}},polarArea:{rings:{strokeColor:t.palette.divider},spokes:{connectorColors:t.palette.divider}}},responsive:[{breakpoint:t.breakpoints.values.sm,options:{plotOptions:{bar:{columnWidth:"40%"}}}},{breakpoint:t.breakpoints.values.md,options:{plotOptions:{bar:{columnWidth:"32%"}}}}]};return V()(a,e)}({legend:{show:!1},fill:{type:"gradient",gradient:{colorStops:[{offset:0,color:n()[0],opacity:1},{offset:100,color:n()[1],opacity:1}]}},plotOptions:{radialBar:{hollow:{size:"64%"},dataLabels:{name:{offsetY:-16},value:{offsetY:8},total:{label:"Score",formatter:()=>"".concat(t)}}}}});return i.createElement(N,{dir:"ltr",type:"radialBar",series:[t],options:a,height:230})}var Y=r(3868),J=r(750);function K(e){let{progress:t}=e;return i.createElement(Y.Z,{spacing:1},i.createElement(Y.Z,{direction:"row",alignItems:"center"},i.createElement(m.Z,{variant:"subtitle2",sx:{flexGrow:1}},t.title),i.createElement(m.Z,{variant:"body2",sx:{color:"text.secondary"}},"Â (",function(e){if(!e)return"";const t=Number(e)/100;return new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:1}).format(t)}(t.value),")")),i.createElement(J.Z,{variant:"determinate",value:t.value,color:(t.value<=30?"info":t.value<=60&&"warning")||"primary"}))}function Q(e){if(!e)return"";if(!e.includes("-"))return e;const t=e.split("-").join(" ");return t.charAt(0).toUpperCase()+t.slice(1)}const X=e=>{var t,r;let{lighthouseJSON:n,title:a}=e;return n.error&&n.error.message?i.createElement(L,{lighthouseJSONErrMessage:n.error.message}):i.createElement(p.Z,{sx:{display:"flex",width:"100%",height:"100%",justifyContent:"space-evenly",columnGap:3}},i.createElement(p.Z,{sx:{width:"100%"}},i.createElement(m.Z,{variant:"h6",sx:{mb:2,textAlign:"center"}},a),i.createElement(p.Z,{sx:{display:"flex",flexDirection:"column",gap:2}},i.createElement(p.Z,null,i.createElement(q,{value:100*n.lighthouseResult.categories.performance.score})),Object.values(null!==(t=null==n||null===(r=n.lighthouseResult)||void 0===r?void 0:r.audits)&&void 0!==t?t:{}).map(((e,t)=>null==e.title||null==e.score?i.createElement(i.Fragment,{key:t},i.createElement(i.Fragment,null)):i.createElement(p.Z,{key:t,style:{width:"100%"}},i.createElement("div",null,i.createElement(K,{progress:{title:Q(e.title),value:100*e.score}}))))))))};var $=r(6242),ee=r(8105),te=r(838);const re=e=>{let{message:t}=e;const[r,n]=(0,i.useState)(!0);return i.createElement(p.Z,{sx:{position:"fixed",top:0,left:0,width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},i.createElement($.Z,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:r},i.createElement(ee.ZP,{container:!0,direction:"column",alignItems:"center",spacing:2},i.createElement(ee.ZP,{item:!0},i.createElement(te.Z,{color:"inherit"})),i.createElement(ee.ZP,{item:!0},i.createElement(m.Z,{style:{textColor:"white"},color:"white"},t)))))};var ie=r(3035);function ne(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function ae(e,t){var r=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}(e,t);return function(e,t){return t.get?t.get.call(e):t.value}(e,r)}let se,le;function oe(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function ce(e,t){var r=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}(e,t);return function(e,t){return t.get?t.get.call(e):t.value}(e,r)}!function(e){let t=function(e){return e[e.UNDEFINED_BRAND=0]="UNDEFINED_BRAND",e[e.rabbitloader=1]="rabbitloader",e[e.dofollow=2]="dofollow",e}({});e.Brand=t;let r=function(e){return e[e.AUDIENCE_UNDEFINED=0]="AUDIENCE_UNDEFINED",e[e.AUDIENCE_RL_WP_PLUGIN=1]="AUDIENCE_RL_WP_PLUGIN",e[e.AUDIENCE_RL_DASHBOARD=2]="AUDIENCE_RL_DASHBOARD",e[e.AUDIENCE_DF_DASHBOARD=3]="AUDIENCE_DF_DASHBOARD",e}({});e.Audience=r;var i=new WeakMap;class n extends ie.Message{constructor(e){super(),ne(this,i,{writable:!0,value:[]}),ie.Message.initialize(this,Array.isArray(e)?e:[],0,-1,[],ae(this,i)),Array.isArray(e)||"object"!=typeof e||("countryCode"in e&&null!=e.countryCode&&(this.countryCode=e.countryCode),"region"in e&&null!=e.region&&(this.region=e.region),"city"in e&&null!=e.city&&(this.city=e.city),"ipAddress"in e&&null!=e.ipAddress&&(this.ipAddress=e.ipAddress),"userAgent"in e&&null!=e.userAgent&&(this.userAgent=e.userAgent))}get countryCode(){return ie.Message.getFieldWithDefault(this,1,"")}set countryCode(e){ie.Message.setField(this,1,e)}get region(){return ie.Message.getFieldWithDefault(this,2,"")}set region(e){ie.Message.setField(this,2,e)}get city(){return ie.Message.getFieldWithDefault(this,3,"")}set city(e){ie.Message.setField(this,3,e)}get ipAddress(){return ie.Message.getFieldWithDefault(this,4,"")}set ipAddress(e){ie.Message.setField(this,4,e)}get userAgent(){return ie.Message.getFieldWithDefault(this,5,"")}set userAgent(e){ie.Message.setField(this,5,e)}static fromObject(e){const t=new n({});return null!=e.countryCode&&(t.countryCode=e.countryCode),null!=e.region&&(t.region=e.region),null!=e.city&&(t.city=e.city),null!=e.ipAddress&&(t.ipAddress=e.ipAddress),null!=e.userAgent&&(t.userAgent=e.userAgent),t}toObject(){const e={};return null!=this.countryCode&&(e.countryCode=this.countryCode),null!=this.region&&(e.region=this.region),null!=this.city&&(e.city=this.city),null!=this.ipAddress&&(e.ipAddress=this.ipAddress),null!=this.userAgent&&(e.userAgent=this.userAgent),e}serialize(e){const t=e||new ie.BinaryWriter;if(this.countryCode.length&&t.writeString(1,this.countryCode),this.region.length&&t.writeString(2,this.region),this.city.length&&t.writeString(3,this.city),this.ipAddress.length&&t.writeString(4,this.ipAddress),this.userAgent.length&&t.writeString(5,this.userAgent),!e)return t.getResultBuffer()}static deserialize(e){const t=e instanceof ie.BinaryReader?e:new ie.BinaryReader(e),r=new n;for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:r.countryCode=t.readString();break;case 2:r.region=t.readString();break;case 3:r.city=t.readString();break;case 4:r.ipAddress=t.readString();break;case 5:r.userAgent=t.readString();break;default:t.skipField()}return r}serializeBinary(){return this.serialize()}static deserializeBinary(e){return n.deserialize(e)}}e.DeviceLocation=n;var a=new WeakMap;class s extends ie.Message{constructor(e){super(),ne(this,a,{writable:!0,value:[]}),ie.Message.initialize(this,Array.isArray(e)?e:[],0,-1,[],ae(this,a)),Array.isArray(e)||"object"!=typeof e||("code"in e&&null!=e.code&&(this.code=e.code),"message"in e&&null!=e.message&&(this.message=e.message))}get code(){return ie.Message.getFieldWithDefault(this,1,"")}set code(e){ie.Message.setField(this,1,e)}get message(){return ie.Message.getFieldWithDefault(this,2,"")}set message(e){ie.Message.setField(this,2,e)}static fromObject(e){const t=new s({});return null!=e.code&&(t.code=e.code),null!=e.message&&(t.message=e.message),t}toObject(){const e={};return null!=this.code&&(e.code=this.code),null!=this.message&&(e.message=this.message),e}serialize(e){const t=e||new ie.BinaryWriter;if(this.code.length&&t.writeString(1,this.code),this.message.length&&t.writeString(2,this.message),!e)return t.getResultBuffer()}static deserialize(e){const t=e instanceof ie.BinaryReader?e:new ie.BinaryReader(e),r=new s;for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:r.code=t.readString();break;case 2:r.message=t.readString();break;default:t.skipField()}return r}serializeBinary(){return this.serialize()}static deserializeBinary(e){return s.deserialize(e)}}e.Error=s;var l=new WeakMap;class o extends ie.Message{constructor(e){super(),ne(this,l,{writable:!0,value:[]}),ie.Message.initialize(this,Array.isArray(e)?e:[],0,-1,[],ae(this,l)),Array.isArray(e)||"object"!=typeof e||"cents"in e&&null!=e.cents&&(this.cents=e.cents)}get cents(){return ie.Message.getFieldWithDefault(this,1,0)}set cents(e){ie.Message.setField(this,1,e)}static fromObject(e){const t=new o({});return null!=e.cents&&(t.cents=e.cents),t}toObject(){const e={};return null!=this.cents&&(e.cents=this.cents),e}serialize(e){const t=e||new ie.BinaryWriter;if(0!=this.cents&&t.writeInt64(1,this.cents),!e)return t.getResultBuffer()}static deserialize(e){const t=e instanceof ie.BinaryReader?e:new ie.BinaryReader(e),r=new o;for(;t.nextField()&&!t.isEndGroup();)1===t.getFieldNumber()?r.cents=t.readInt64():t.skipField();return r}serializeBinary(){return this.serialize()}static deserializeBinary(e){return o.deserialize(e)}}e.Money=o}(se||(se={})),function(e){let t=function(e){return e[e.UNDEFINED_SCORE_DEVICE=0]="UNDEFINED_SCORE_DEVICE",e[e.Desktop=1]="Desktop",e[e.Mobile=2]="Mobile",e}({});e.ScoreDevice=t;let r=function(e){return e[e.UNDEFINED_SCORE_VERSION=0]="UNDEFINED_SCORE_VERSION",e[e.Optimized=1]="Optimized",e[e.Original=2]="Original",e}({});e.ScoreVersion=r;var i=new WeakMap;class n extends ie.Message{constructor(e){super(),oe(this,i,{writable:!0,value:[]}),ie.Message.initialize(this,Array.isArray(e)?e:[],0,-1,[],ce(this,i)),Array.isArray(e)||"object"!=typeof e||("metrics"in e&&null!=e.metrics&&(this.metrics=e.metrics),"strategy"in e&&null!=e.strategy&&(this.strategy=e.strategy))}get metrics(){return ie.Message.getWrapperField(this,f,1)}set metrics(e){ie.Message.setWrapperField(this,1,e)}get has_metrics(){return null!=ie.Message.getField(this,1)}get strategy(){return ie.Message.getWrapperField(this,o,2)}set strategy(e){ie.Message.setWrapperField(this,2,e)}get has_strategy(){return null!=ie.Message.getField(this,2)}static fromObject(e){const t=new n({});return null!=e.metrics&&(t.metrics=f.fromObject(e.metrics)),null!=e.strategy&&(t.strategy=o.fromObject(e.strategy)),t}toObject(){const e={};return null!=this.metrics&&(e.metrics=this.metrics.toObject()),null!=this.strategy&&(e.strategy=this.strategy.toObject()),e}serialize(e){const t=e||new ie.BinaryWriter;if(this.has_metrics&&t.writeMessage(1,this.metrics,(()=>this.metrics.serialize(t))),this.has_strategy&&t.writeMessage(2,this.strategy,(()=>this.strategy.serialize(t))),!e)return t.getResultBuffer()}static deserialize(e){const t=e instanceof ie.BinaryReader?e:new ie.BinaryReader(e),r=new n;for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:t.readMessage(r.metrics,(()=>r.metrics=f.deserialize(t)));break;case 2:t.readMessage(r.strategy,(()=>r.strategy=o.deserialize(t)));break;default:t.skipField()}return r}serializeBinary(){return this.serialize()}static deserializeBinary(e){return n.deserialize(e)}}e.SaveScoreRequest=n;var a=new WeakMap;class s extends ie.Message{constructor(e){super(),oe(this,a,{writable:!0,value:[[1]]}),ie.Message.initialize(this,Array.isArray(e)?e:[],0,-1,[],ce(this,a)),Array.isArray(e)||"object"!=typeof e||"error"in e&&null!=e.error&&(this.error=e.error)}get error(){return ie.Message.getWrapperField(this,se.Error,1)}set error(e){ie.Message.setOneofWrapperField(this,1,ce(this,a)[0],e)}get has_error(){return null!=ie.Message.getField(this,1)}get _error(){return{0:"none",1:"error"}[ie.Message.computeOneofCase(this,[1])]}static fromObject(e){const t=new s({});return null!=e.error&&(t.error=se.Error.fromObject(e.error)),t}toObject(){const e={};return null!=this.error&&(e.error=this.error.toObject()),e}serialize(e){const t=e||new ie.BinaryWriter;if(this.has_error&&t.writeMessage(1,this.error,(()=>this.error.serialize(t))),!e)return t.getResultBuffer()}static deserialize(e){const t=e instanceof ie.BinaryReader?e:new ie.BinaryReader(e),r=new s;for(;t.nextField()&&!t.isEndGroup();)1===t.getFieldNumber()?t.readMessage(r.error,(()=>r.error=se.Error.deserialize(t))):t.skipField();return r}serializeBinary(){return this.serialize()}static deserializeBinary(e){return s.deserialize(e)}}e.SaveScoreResponse=s;var l=new WeakMap;class o extends ie.Message{constructor(e){super(),oe(this,l,{writable:!0,value:[]}),ie.Message.initialize(this,Array.isArray(e)?e:[],0,-1,[],ce(this,l)),Array.isArray(e)||"object"!=typeof e||("device"in e&&null!=e.device&&(this.device=e.device),"version"in e&&null!=e.version&&(this.version=e.version))}get device(){return ie.Message.getFieldWithDefault(this,1,t.UNDEFINED_SCORE_DEVICE)}set device(e){ie.Message.setField(this,1,e)}get version(){return ie.Message.getFieldWithDefault(this,2,r.UNDEFINED_SCORE_VERSION)}set version(e){ie.Message.setField(this,2,e)}static fromObject(e){const t=new o({});return null!=e.device&&(t.device=e.device),null!=e.version&&(t.version=e.version),t}toObject(){const e={};return null!=this.device&&(e.device=this.device),null!=this.version&&(e.version=this.version),e}serialize(e){const i=e||new ie.BinaryWriter;if(this.device!=t.UNDEFINED_SCORE_DEVICE&&i.writeEnum(1,this.device),this.version!=r.UNDEFINED_SCORE_VERSION&&i.writeEnum(2,this.version),!e)return i.getResultBuffer()}static deserialize(e){const t=e instanceof ie.BinaryReader?e:new ie.BinaryReader(e),r=new o;for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:r.device=t.readEnum();break;case 2:r.version=t.readEnum();break;default:t.skipField()}return r}serializeBinary(){return this.serialize()}static deserializeBinary(e){return o.deserialize(e)}}e.ScoreStrategy=o;var c=new WeakMap;class u extends ie.Message{constructor(e){super(),oe(this,c,{writable:!0,value:[]}),ie.Message.initialize(this,Array.isArray(e)?e:[],0,-1,[],ce(this,c)),Array.isArray(e)||"object"!=typeof e||("scale"in e&&null!=e.scale&&(this.scale=e.scale),"numericValue"in e&&null!=e.numericValue&&(this.numericValue=e.numericValue),"numericUnit"in e&&null!=e.numericUnit&&(this.numericUnit=e.numericUnit))}get scale(){return ie.Message.getFieldWithDefault(this,1,0)}set scale(e){ie.Message.setField(this,1,e)}get numericValue(){return ie.Message.getFieldWithDefault(this,2,0)}set numericValue(e){ie.Message.setField(this,2,e)}get numericUnit(){return ie.Message.getFieldWithDefault(this,3,"")}set numericUnit(e){ie.Message.setField(this,3,e)}static fromObject(e){const t=new u({});return null!=e.scale&&(t.scale=e.scale),null!=e.numericValue&&(t.numericValue=e.numericValue),null!=e.numericUnit&&(t.numericUnit=e.numericUnit),t}toObject(){const e={};return null!=this.scale&&(e.scale=this.scale),null!=this.numericValue&&(e.numericValue=this.numericValue),null!=this.numericUnit&&(e.numericUnit=this.numericUnit),e}serialize(e){const t=e||new ie.BinaryWriter;if(0!=this.scale&&t.writeFloat(1,this.scale),0!=this.numericValue&&t.writeDouble(2,this.numericValue),this.numericUnit.length&&t.writeString(3,this.numericUnit),!e)return t.getResultBuffer()}static deserialize(e){const t=e instanceof ie.BinaryReader?e:new ie.BinaryReader(e),r=new u;for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:r.scale=t.readFloat();break;case 2:r.numericValue=t.readDouble();break;case 3:r.numericUnit=t.readString();break;default:t.skipField()}return r}serializeBinary(){return this.serialize()}static deserializeBinary(e){return u.deserialize(e)}}e.Score=u;var d=new WeakMap;class h extends ie.Message{constructor(e){super(),oe(this,d,{writable:!0,value:[]}),ie.Message.initialize(this,Array.isArray(e)?e:[],0,-1,[],ce(this,d)),Array.isArray(e)||"object"!=typeof e||("urlID"in e&&null!=e.urlID&&(this.urlID=e.urlID),"domainID"in e&&null!=e.domainID&&(this.domainID=e.domainID),"traceID"in e&&null!=e.traceID&&(this.traceID=e.traceID))}get urlID(){return ie.Message.getFieldWithDefault(this,1,"")}set urlID(e){ie.Message.setField(this,1,e)}get domainID(){return ie.Message.getFieldWithDefault(this,2,"")}set domainID(e){ie.Message.setField(this,2,e)}get traceID(){return ie.Message.getFieldWithDefault(this,3,"")}set traceID(e){ie.Message.setField(this,3,e)}static fromObject(e){const t=new h({});return null!=e.urlID&&(t.urlID=e.urlID),null!=e.domainID&&(t.domainID=e.domainID),null!=e.traceID&&(t.traceID=e.traceID),t}toObject(){const e={};return null!=this.urlID&&(e.urlID=this.urlID),null!=this.domainID&&(e.domainID=this.domainID),null!=this.traceID&&(e.traceID=this.traceID),e}serialize(e){const t=e||new ie.BinaryWriter;if(this.urlID.length&&t.writeString(1,this.urlID),this.domainID.length&&t.writeString(2,this.domainID),this.traceID.length&&t.writeString(3,this.traceID),!e)return t.getResultBuffer()}static deserialize(e){const t=e instanceof ie.BinaryReader?e:new ie.BinaryReader(e),r=new h;for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:r.urlID=t.readString();break;case 2:r.domainID=t.readString();break;case 3:r.traceID=t.readString();break;default:t.skipField()}return r}serializeBinary(){return this.serialize()}static deserializeBinary(e){return h.deserialize(e)}}e.ScoreRefreshReq=h;var g=new WeakMap;class m extends ie.Message{constructor(e){super(),oe(this,g,{writable:!0,value:[]}),ie.Message.initialize(this,Array.isArray(e)?e:[],0,-1,[],ce(this,g)),Array.isArray(e)||"object"!=typeof e||("Selector"in e&&null!=e.Selector&&(this.Selector=e.Selector),"Snippet"in e&&null!=e.Snippet&&(this.Snippet=e.Snippet))}get Selector(){return ie.Message.getFieldWithDefault(this,1,"")}set Selector(e){ie.Message.setField(this,1,e)}get Snippet(){return ie.Message.getFieldWithDefault(this,2,"")}set Snippet(e){ie.Message.setField(this,2,e)}static fromObject(e){const t=new m({});return null!=e.Selector&&(t.Selector=e.Selector),null!=e.Snippet&&(t.Snippet=e.Snippet),t}toObject(){const e={};return null!=this.Selector&&(e.Selector=this.Selector),null!=this.Snippet&&(e.Snippet=this.Snippet),e}serialize(e){const t=e||new ie.BinaryWriter;if(this.Selector.length&&t.writeString(1,this.Selector),this.Snippet.length&&t.writeString(2,this.Snippet),!e)return t.getResultBuffer()}static deserialize(e){const t=e instanceof ie.BinaryReader?e:new ie.BinaryReader(e),r=new m;for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:r.Selector=t.readString();break;case 2:r.Snippet=t.readString();break;default:t.skipField()}return r}serializeBinary(){return this.serialize()}static deserializeBinary(e){return m.deserialize(e)}}e.LCPE=m;var p=new WeakMap;class f extends ie.Message{constructor(e){super(),oe(this,p,{writable:!0,value:[]}),ie.Message.initialize(this,Array.isArray(e)?e:[],0,-1,[],ce(this,p)),Array.isArray(e)||"object"!=typeof e||("MainScore"in e&&null!=e.MainScore&&(this.MainScore=e.MainScore),"FirstContentFulPaint"in e&&null!=e.FirstContentFulPaint&&(this.FirstContentFulPaint=e.FirstContentFulPaint),"TimeToInteractive"in e&&null!=e.TimeToInteractive&&(this.TimeToInteractive=e.TimeToInteractive),"SpeedIndex"in e&&null!=e.SpeedIndex&&(this.SpeedIndex=e.SpeedIndex),"TotalBlockingTime"in e&&null!=e.TotalBlockingTime&&(this.TotalBlockingTime=e.TotalBlockingTime),"LargestContentFulPaint"in e&&null!=e.LargestContentFulPaint&&(this.LargestContentFulPaint=e.LargestContentFulPaint),"CumulativeLayoutShift"in e&&null!=e.CumulativeLayoutShift&&(this.CumulativeLayoutShift=e.CumulativeLayoutShift),"LargestContentFulPaintEle"in e&&null!=e.LargestContentFulPaintEle&&(this.LargestContentFulPaintEle=e.LargestContentFulPaintEle))}get MainScore(){return ie.Message.getFieldWithDefault(this,1,0)}set MainScore(e){ie.Message.setField(this,1,e)}get FirstContentFulPaint(){return ie.Message.getWrapperField(this,u,2)}set FirstContentFulPaint(e){ie.Message.setWrapperField(this,2,e)}get has_FirstContentFulPaint(){return null!=ie.Message.getField(this,2)}get TimeToInteractive(){return ie.Message.getWrapperField(this,u,3)}set TimeToInteractive(e){ie.Message.setWrapperField(this,3,e)}get has_TimeToInteractive(){return null!=ie.Message.getField(this,3)}get SpeedIndex(){return ie.Message.getWrapperField(this,u,4)}set SpeedIndex(e){ie.Message.setWrapperField(this,4,e)}get has_SpeedIndex(){return null!=ie.Message.getField(this,4)}get TotalBlockingTime(){return ie.Message.getWrapperField(this,u,5)}set TotalBlockingTime(e){ie.Message.setWrapperField(this,5,e)}get has_TotalBlockingTime(){return null!=ie.Message.getField(this,5)}get LargestContentFulPaint(){return ie.Message.getWrapperField(this,u,6)}set LargestContentFulPaint(e){ie.Message.setWrapperField(this,6,e)}get has_LargestContentFulPaint(){return null!=ie.Message.getField(this,6)}get CumulativeLayoutShift(){return ie.Message.getWrapperField(this,u,7)}set CumulativeLayoutShift(e){ie.Message.setWrapperField(this,7,e)}get has_CumulativeLayoutShift(){return null!=ie.Message.getField(this,7)}get LargestContentFulPaintEle(){return ie.Message.getWrapperField(this,m,8)}set LargestContentFulPaintEle(e){ie.Message.setWrapperField(this,8,e)}get has_LargestContentFulPaintEle(){return null!=ie.Message.getField(this,8)}static fromObject(e){const t=new f({});return null!=e.MainScore&&(t.MainScore=e.MainScore),null!=e.FirstContentFulPaint&&(t.FirstContentFulPaint=u.fromObject(e.FirstContentFulPaint)),null!=e.TimeToInteractive&&(t.TimeToInteractive=u.fromObject(e.TimeToInteractive)),null!=e.SpeedIndex&&(t.SpeedIndex=u.fromObject(e.SpeedIndex)),null!=e.TotalBlockingTime&&(t.TotalBlockingTime=u.fromObject(e.TotalBlockingTime)),null!=e.LargestContentFulPaint&&(t.LargestContentFulPaint=u.fromObject(e.LargestContentFulPaint)),null!=e.CumulativeLayoutShift&&(t.CumulativeLayoutShift=u.fromObject(e.CumulativeLayoutShift)),null!=e.LargestContentFulPaintEle&&(t.LargestContentFulPaintEle=m.fromObject(e.LargestContentFulPaintEle)),t}toObject(){const e={};return null!=this.MainScore&&(e.MainScore=this.MainScore),null!=this.FirstContentFulPaint&&(e.FirstContentFulPaint=this.FirstContentFulPaint.toObject()),null!=this.TimeToInteractive&&(e.TimeToInteractive=this.TimeToInteractive.toObject()),null!=this.SpeedIndex&&(e.SpeedIndex=this.SpeedIndex.toObject()),null!=this.TotalBlockingTime&&(e.TotalBlockingTime=this.TotalBlockingTime.toObject()),null!=this.LargestContentFulPaint&&(e.LargestContentFulPaint=this.LargestContentFulPaint.toObject()),null!=this.CumulativeLayoutShift&&(e.CumulativeLayoutShift=this.CumulativeLayoutShift.toObject()),null!=this.LargestContentFulPaintEle&&(e.LargestContentFulPaintEle=this.LargestContentFulPaintEle.toObject()),e}serialize(e){const t=e||new ie.BinaryWriter;if(0!=this.MainScore&&t.writeFloat(1,this.MainScore),this.has_FirstContentFulPaint&&t.writeMessage(2,this.FirstContentFulPaint,(()=>this.FirstContentFulPaint.serialize(t))),this.has_TimeToInteractive&&t.writeMessage(3,this.TimeToInteractive,(()=>this.TimeToInteractive.serialize(t))),this.has_SpeedIndex&&t.writeMessage(4,this.SpeedIndex,(()=>this.SpeedIndex.serialize(t))),this.has_TotalBlockingTime&&t.writeMessage(5,this.TotalBlockingTime,(()=>this.TotalBlockingTime.serialize(t))),this.has_LargestContentFulPaint&&t.writeMessage(6,this.LargestContentFulPaint,(()=>this.LargestContentFulPaint.serialize(t))),this.has_CumulativeLayoutShift&&t.writeMessage(7,this.CumulativeLayoutShift,(()=>this.CumulativeLayoutShift.serialize(t))),this.has_LargestContentFulPaintEle&&t.writeMessage(8,this.LargestContentFulPaintEle,(()=>this.LargestContentFulPaintEle.serialize(t))),!e)return t.getResultBuffer()}static deserialize(e){const t=e instanceof ie.BinaryReader?e:new ie.BinaryReader(e),r=new f;for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:r.MainScore=t.readFloat();break;case 2:t.readMessage(r.FirstContentFulPaint,(()=>r.FirstContentFulPaint=u.deserialize(t)));break;case 3:t.readMessage(r.TimeToInteractive,(()=>r.TimeToInteractive=u.deserialize(t)));break;case 4:t.readMessage(r.SpeedIndex,(()=>r.SpeedIndex=u.deserialize(t)));break;case 5:t.readMessage(r.TotalBlockingTime,(()=>r.TotalBlockingTime=u.deserialize(t)));break;case 6:t.readMessage(r.LargestContentFulPaint,(()=>r.LargestContentFulPaint=u.deserialize(t)));break;case 7:t.readMessage(r.CumulativeLayoutShift,(()=>r.CumulativeLayoutShift=u.deserialize(t)));break;case 8:t.readMessage(r.LargestContentFulPaintEle,(()=>r.LargestContentFulPaintEle=m.deserialize(t)));break;default:t.skipField()}return r}serializeBinary(){return this.serialize()}static deserializeBinary(e){return f.deserialize(e)}}e.ScoreMetrics=f}(le||(le={}));const ue=3e5,de=3,he=[500,502,503];class ge extends Error{constructor(e){super(e),this.name="MissingPathVarError"}}const me=new ge("path variable is missing");var pe=r(3454);const fe={FirstContentFulPaint:"first-contentful-paint",TimeToInteractive:"interactive",SpeedIndex:"speed-index",TotalBlockingTime:"total-blocking-time",LargestContentFulPaint:"largest-contentful-paint",CumulativeLayoutShift:"cumulative-layout-shift",LargestContentFulPaintEle:"largest-contentful-paint-element"},ye=async(e,t,r,i,n)=>{try{const a=((e,t,r)=>{if(null==e||null==e.audits)return void console.log("no lighthouseResult");const i=new le.ScoreMetrics;var n;null!=e.categories&&null!=e.categories.performance&&(i.MainScore=null==e||null===(n=e.categories)||void 0===n||null===(n=n.performance)||void 0===n?void 0:n.score);const a=e.audits;for(const e in fe)if(a[fe[e]])if("LargestContentFulPaintEle"===e){const t=new le.LCPE;var s,l;null!=a[fe[e]]&&null!=a[fe[e]].details&&null!=a[fe[e]].details.items&&null!=a[fe[e]].details.items[0]&&null!=a[fe[e]].details.items[0].items&&null!=a[fe[e]].details.items[0].items[0]&&null!=a[fe[e]].details.items[0].items[0].node&&(t.Selector=null===(s=a[fe[e]].details.items[0].items[0].node)||void 0===s?void 0:s.selector,t.Snippet=null===(l=a[fe[e]].details.items[0].items[0].node)||void 0===l?void 0:l.snippet),i[e]=t}else{const t=new le.Score;t.numericUnit=a[fe[e]].numericUnit,t.numericValue=a[fe[e]].setNumericvalue,t.scale=a[fe[e]].score,i[e]=t}const o=new le.ScoreStrategy;o.device=t||le.ScoreDevice.Desktop,o.version=r;const c=new le.SaveScoreRequest;return c.metrics=i,c.strategy=o,c})(e,i,n),s=((e,t)=>({pathVars:{"{domain_id}":e,"{url_id}":t}}))(t,r),l=(0,pe.YT)(!1),o=(0,pe.ZQ)(),[c,u]=await function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;const{timeout:n=ue,retryCount:a=de,retryableCodes:s=he}=t;let{newPath:l,missingVar:o}=function(e,t){let r=!1,i=e;for(const[e,r]of Object.entries(t))i=i.replace(e,r);return r=i.includes("{"),{newPath:i,missingVar:r}}(i+"/url/score/{domain_id}/{url_id}",t.pathVars||{});if(o)return Promise.reject(me);const c=e.serializeBinary(),u={method:"POST",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/x-protobuf",Accept:"application/x-protobuf"},body:c},d=e=>new Promise(((t,r)=>{fetch(l,u).then((i=>{i.ok?i.arrayBuffer().then((e=>{const r=new Uint8Array(e),n=le.SaveScoreResponse.deserialize(r);t([n,i.status])})).catch((e=>{console.error("error in reading response body",e),r({statusCode:i.status,err:"error in reading response body"})})):s.includes(i.status)&&e>0?setTimeout((()=>{t(d(e-1))}),n):r({statusCode:i.status,err:i.statusText})})).catch((i=>{e>0?setTimeout((()=>{t(d(e-1))}),n):r({statusCode:0,err:i})}))}));return d(a)}(a,s,l,o);200===u||console.error("Failed to save score. Status code:",u,"Error:",c)}catch(e){console.error("An error occurred while saving the score:",e)}};var be=r(6961);const ve=e=>{let{url:t,domain_id:n,url_id:a,strategy:s}=e;const[l,o]=(0,i.useState)("Warming up ...."),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(null),g=async e=>{if(e.indexOf("wpunittest")>0)return(await r.e(851).then(r.t.bind(r,2851,19))).default;const t=new URL("https://www.googleapis.com/pagespeedonline/v5/runPagespeed");t.searchParams.append("url",e),s&&(s===le.ScoreDevice.Mobile?t.searchParams.append("strategy","mobile"):t.searchParams.append("strategy","desktop"));const i=await fetch(t);return await i.json()};return(0,i.useEffect)((()=>{o("Warming up ...."),(async e=>{if(new URL(e).host!==window.location.host)return!0;const t=new URL(e);return t.searchParams.append("rl-warmup","1"),t.searchParams.append("rl-rand",String(Math.floor((new Date).getTime()/1e3))),t.searchParams.append("rl-only-after",String(Math.floor((new Date).getTime()/1e3))),fetch(t,{credentials:"omit"})})(t).then((()=>{o("Analyzing with lighthouse ...."),g(t).then((e=>{u(e),e&&e.lighthouseResult&&ye(null==e?void 0:e.lighthouseResult,n,a,s,le.ScoreVersion.Optimized)}));const e=new URL(t);e.searchParams.append("norl","1"),g(e.toString()).then((e=>{h(e),e&&e.lighthouseResult&&ye(null==e?void 0:e.lighthouseResult,n,a,s,le.ScoreVersion.Original)}))}))}),[]),i.createElement(i.Fragment,null,d&&c?i.createElement(i.Fragment,null,i.createElement(p.Z,{sx:{display:"flex",width:"100%",height:"100%",justifyContent:"space-evenly",columnGap:3}},i.createElement(X,{lighthouseJSON:d,title:"Without RabbitLoader"}),i.createElement(be.Z,{orientation:"vertical",flexItem:!0}),i.createElement(X,{lighthouseJSON:c,title:"With RabbitLoader"}))):i.createElement(i.Fragment,null,i.createElement(re,{message:l})))},Ee=function(e){let{id:t,url:r,domain_id:n,url_id:s,strategy:l}=e;return i.createElement(D.mu,{defaultSettings:{themeMode:"light",themeDirection:"ltr",themeContrast:"default",themeLayout:"vertical",themeColorPresets:"blue",themeStretch:!1}},i.createElement(a.Z,null,i.createElement("div",{className:"App",style:{display:"contents",width:"100%"}},i.createElement(ve,{url:r,domain_id:n,url_id:s,strategy:l}),i.createElement(M.Ix,null))))},we=e=>{let{id:t,url:r,domain_id:a,url_id:s,strategy:l}=e;if("local-testing-root"!==t)return i.createElement(Ee,{id:t,url:r,domain_id:a,url_id:s,strategy:l});n.createRoot(document.getElementById(t)).render(i.createElement(i.StrictMode,null,i.createElement(Ee,{id:t,url:r,domain_id:a,url_id:s,strategy:l})))};var Fe=r(6582),Se=r(1188),Ce=r(6769);const xe=function(e){let{onChange:t,value:r}=e;return i.createElement(p.Z,{sx:{p:3,display:"flex",alignItems:"center",justifyContent:"space-between"}},i.createElement(p.Z,{sx:{display:"flex",alignItems:"center",width:"100%"}},i.createElement("style",null,"\n              .wp-admin div.rl-can-url-search div input  {\n                padding: 16.5px 14px !important;\n                padding-left: 0 !important;\n                border: 0 !important;\n              }\n              .wp-admin div.rl-can-url-search div input:focus  {\n                box-shadow:none !important;\n              }\n          "),i.createElement(Fe.Z,{sx:{height:1,width:"100%"},className:"rl-can-url-search",placeholder:"Search...",onChange:e=>t(e),value:r,InputProps:{startAdornment:i.createElement(Se.Z,{position:"start"},i.createElement(Ce.Z,{icon:"eva:search-fill"}))}})))};var Me=r(9926),De=r(6136);function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ke.apply(this,arguments)}function Ie(e){let{filters:t,onResetFilter:r,results:n,...a}=e;return i.createElement(Y.Z,ke({spacing:1.5},a),i.createElement(p.Z,{sx:{typography:"body2",display:"flex",justifyContent:"center"}},i.createElement("strong",{style:{marginRight:"5px"}},n),i.createElement(p.Z,{component:"span",sx:{color:"text.secondary",ml:.25}},"results found")),i.createElement(p.Z,{sx:{display:"flex",alignItems:"center",ml:1,mb:2}},!!t.name&&i.createElement(ze,{label:"Keyword:"},i.createElement(Me.Z,{label:t.name,size:"small",onDelete:r})),i.createElement(k.Z,{color:"error",onClick:r,startIcon:i.createElement(Ce.Z,{icon:"solar:trash-bin-trash-bold"}),sx:{}},"Clear")))}function ze(e){let{label:t,children:r,sx:n,...a}=e;return i.createElement(Y.Z,ke({component:De.Z,variant:"outlined",spacing:1,direction:"row",sx:{p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed",...n}},a),i.createElement(p.Z,{component:"span",sx:{typography:"subtitle2"}},t),i.createElement(Y.Z,{spacing:1,direction:"row",flexWrap:"wrap"},r))}var Ae=r(7037),Pe=r(2658),Te=r(8252);const Re=(0,l.ZP)(p.Z)((e=>{let{theme:t,ownerState:r}=e;const i="light"===t.palette.mode,n="filled"===r.variant,a="outlined"===r.variant,s="soft"===r.variant,l={..."default"===r.color&&{...n&&{color:i?t.palette.common.white:t.palette.grey[800],backgroundColor:t.palette.text.primary},...a&&{backgroundColor:"transparent",color:t.palette.text.primary,border:"2px solid ".concat(t.palette.text.primary)},...s&&{color:t.palette.text.secondary,backgroundColor:(0,Z.Fq)(t.palette.grey[500],.16)}}},o={..."default"!==r.color&&{...n&&{color:t.palette[r.color].contrastText,backgroundColor:t.palette[r.color].main},...a&&{backgroundColor:"transparent",color:t.palette[r.color].main,border:"2px solid ".concat(t.palette[r.color].main)},...s&&{color:t.palette[r.color][i?"dark":"light"],backgroundColor:(0,Z.Fq)(t.palette[r.color].main,.16)}}};return{height:24,minWidth:24,lineHeight:0,borderRadius:6,cursor:"default",alignItems:"center",whiteSpace:"nowrap",display:"inline-flex",justifyContent:"center",textTransform:"capitalize",padding:t.spacing(0,.75),fontSize:t.typography.pxToRem(12),fontWeight:t.typography.fontWeightBold,transition:t.transitions.create("all",{duration:t.transitions.duration.shorter}),...l,...o}}));function Be(){return Be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Be.apply(this,arguments)}const Oe=(0,i.forwardRef)(((e,t)=>{let{children:r,color:n="default",variant:a="soft",startIcon:s,endIcon:l,sx:o,...c}=e;const u=(0,G.Z)(),d={width:16,height:16,"& svg, img":{width:1,height:1,objectFit:"cover"}};return i.createElement(Re,Be({ref:t,component:"span",ownerState:{color:n,variant:a},sx:{...s&&{pl:.75},...l&&{pr:.75},...o},theme:u},c),s&&i.createElement(p.Z,{sx:{mr:.75,...d}}," ",s," "),r,l&&i.createElement(p.Z,{sx:{ml:.75,...d}}," ",l," "))})),Le=Oe,_e=function(e){let{score_o:t,device:r,onRefreshClick:n}=e;return i.createElement(u.Z,{align:"center"},i.createElement(p.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1}},i.createElement(Le,{variant:"soft",color:(t&&t.score>.7?"success":t&&t.score>.5&&"warning")||t&&t.score>0&&"error"||"default",sx:{px:1}},t?Math.floor(100*t.score):"-"),i.createElement("style",null,".MuiButtonBase-root:focus { outline: none; }"),i.createElement(Te.Z,{title:"Refresh ".concat(r," score")},i.createElement(Ae.Z,{onClick:n},i.createElement(Pe.Z,{sx:{fontSize:14,color:"#a0a0a0"}})))))},Ze=[{id:"canonical-url",label:"Canonical URL (without protocal)",align:"left"},{id:"first-detected",label:"First Detected"},{id:"mobile-score",label:"Mobile Score",align:"center"},{id:"desktop-score",label:"Desktop Score",align:"center"}],We=(0,l.ZP)(g.Z)((e=>{let{theme:t}=e;return{"&:nth-of-type(even)":{backgroundColor:t.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}));function je(e){var t,r,n,a;let{domain:l,urlClickLocation:E,domain_id:w}=e;const[F,S]=i.useState(0),[M,D]=i.useState(10),[k,I]=i.useState(),[z,A]=i.useState(""),P=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;const[r,n]=(0,i.useState)(e);return(0,i.useEffect)((()=>{const r=setTimeout((()=>{n(e)}),t);return()=>{clearTimeout(r)}}),[e,t]),r}(z,300),[T,R]=i.useState(!1),[B,O]=i.useState(!1),[L,_]=i.useState(""),[Z,W]=i.useState("desc"),[j,N]=i.useState(!1),U=()=>N(!1),[V,G]=i.useState(""),[H,q]=i.useState(le.ScoreDevice.UNDEFINED_SCORE_DEVICE),[Y,J]=i.useState("");function K(e){const t=new Date(e),r=t.toLocaleString("default",{month:"short"}),i=t.getDate(),n=t.getFullYear();let a=t.getHours(),s=t.getMinutes();const l=a>=12?"PM":"AM";return a%=12,a=a||12,s=s<10?"0"+s:s,r+" "+i+", "+n+", "+a+":"+s+" "+l}function Q(e,t,r){G("https://".concat(e)),J(t),q(r),N(!0)}return i.useEffect((()=>{!async function(){R(!0);try{const e=await async function(e){let{domain:t,draw:r,start:i,length:n,orderColumn:a,orderDir:s,search:l}=e;const o=new URLSearchParams;o.append("draw",r.toString());const c=(0,pe.YT)(!1);o.append("columns[0][data]","url"),o.append("columns[0][name]",""),o.append("columns[0][searchable]","true"),o.append("columns[0][orderable]","false"),o.append("columns[0][search][value]",""),o.append("columns[0][search][regex]","false"),o.append("columns[1][data]","create_time"),o.append("columns[1][name]",""),o.append("columns[1][searchable]","true"),o.append("columns[1][orderable]","true"),o.append("columns[1][search][value]",""),o.append("columns[1][search][regex]","false"),o.append("columns[2][data]","update_time"),o.append("columns[2][name]",""),o.append("columns[2][searchable]","true"),o.append("columns[2][orderable]","true"),o.append("columns[2][search][value]",""),o.append("columns[2][search][regex]","false"),o.append("order[0][column]",a.toString()),o.append("order[0][dir]",s),o.append("start",i.toString()),o.append("length",n.toString()),o.append("search[value]",l),o.append("search[regex]","false"),o.append("domain",t);const u="".concat((0,pe.xp)(),"/api/v1/report/canonical_urls?").concat(o.toString()),d=await fetch(u,{headers:{Authorization:"Bearer ".concat(null!==c||void 0!==c||0===c.length?c:"")}});if(200!==d.status)return{error:"Some thing went wrong.",data:null};const h=await d.json();return h&&h.data&&h.data.records&&void 0!==h.data.recordsTotal&&void 0!==h.data.recordsFiltered?{data:{records:h.data.records,recordsTotal:h.data.recordsTotal,recordsFiltered:h.data.recordsFiltered},error:null}:{data:null,error:"Some thing went wrong."}}({domain:l,draw:1,length:M,orderColumn:"cache-refreshed"===L?2:1,orderDir:Z,search:P,start:F*M});if(e.error)return;e.data.records.map((e=>{e.create_time=K(e.create_time),e.update_time=K(e.update_time)})),I(e)}catch(e){console.log(e)}finally{R(!1)}}()}),[M,F,P,l,Z,L]),i.createElement(p.Z,{sx:{isolation:"auto"}},i.createElement(y.Z,{open:j,onClose:U,sx:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},i.createElement(s.Z,{sx:{p:4,minHeight:400,height:"75%",width:"65%",overflowY:"auto",scrollbarWidth:"none"}},i.createElement(p.Z,{sx:{display:"flex",justifyContent:"space-between"}},i.createElement(m.Z,{variant:"h6",sx:{mb:1}},H===le.ScoreDevice.Mobile?"Mobile":"Desktop"," Light House Score"),i.createElement(b.Z,{onClick:U,sx:{"&:hover":{cursor:"pointer"}}})),i.createElement(m.Z,{variant:"body2",sx:{mb:3}},"Score Checker is our newest feature, now available for all plans during its beta phase."),i.createElement(we,{id:"",url:V,domain_id:w,url_id:Y,strategy:H}))),i.createElement(s.Z,{sx:{width:"100%",py:2}},i.createElement(m.Z,{variant:"h5",sx:{my:3,ml:3,color:"#000000 !important"}},"Canonical URLs Detected"),i.createElement(xe,{onChange:e=>A(e.target.value),value:z}),z.length>0&&i.createElement(Ie,{filters:{name:z},results:(null==k?void 0:k.data.recordsFiltered)||0,onResetFilter:()=>A("")}),i.createElement(d.Z,{sx:{maxHeight:440}},i.createElement(o.Z,{stickyHeader:!0,"aria-label":"sticky table",size:B?"small":"medium"},i.createElement(h.Z,null,i.createElement(g.Z,null,Ze.map((e=>i.createElement(u.Z,{key:e.id,align:e.align,style:{minWidth:e.minWidth},sortDirection:"desc"},"canonical-url"===e.id?i.createElement(i.Fragment,null,e.label):i.createElement(f.Z,{hideSortIcon:!0,active:L===e.id,direction:Z,onClick:()=>{_(e.id),W("asc"===Z?"desc":"asc")}},e.label)))))),i.createElement(c.Z,null,T?i.createElement(g.Z,null,i.createElement(u.Z,{colSpan:Ze.length,height:370,align:"center"},i.createElement(v.a,null))):null!==(t=null==k||null===(r=k.data)||void 0===r||null===(r=r.records)||void 0===r?void 0:r.length)&&void 0!==t&&t?null==k?void 0:k.data.records.map((e=>i.createElement(We,{hover:!0,role:"checkbox",tabIndex:-1,key:e._id},i.createElement(u.Z,{onClick:()=>{E&&(window.location.hash=E.replace("%%URL%%",encodeURIComponent(e.url)))},sx:{fontWeight:500,cursor:"pointer"}},e.url),i.createElement(u.Z,null,e.create_time),i.createElement(_e,{onRefreshClick:()=>Q(e.url,e._id,le.ScoreDevice.Mobile),score_o:e.score_m,device:"Mobile"}),i.createElement(_e,{onRefreshClick:()=>Q(e.url,e._id,le.ScoreDevice.Desktop),score_o:e.score_d,device:"Desktop"})))):i.createElement(g.Z,null,i.createElement(u.Z,{colSpan:Ze.length,height:300,align:"center"},i.createElement("img",{src:x,alt:"No Data Found",style:{width:160}}),i.createElement(m.Z,{variant:"body1"},"No canonical URL found.",i.createElement("br",null),"For a new site, it may take a few hours depending on the network connectivity and hosting server firewall.")))))),i.createElement(p.Z,{sx:{display:"flex",justifyContent:"end",mt:2,mr:1}},i.createElement("style",null,"\n              span.MuiTablePagination-root div p  {\n                margin-top: 0px;\n                margin-bottom: 0px;\n                color: black;\n              }\n            "),i.createElement(C,{rowsPerPageOptions:[10,25,100],count:0===(null==k?void 0:k.data.recordsFiltered)?null==k?void 0:k.data.recordsTotal:null!==(n=null==k||null===(a=k.data)||void 0===a?void 0:a.recordsFiltered)&&void 0!==n?n:0,sx:{all:"unset",display:"flex",width:"100%",justifyContent:"space-between"},component:"span",rowsPerPage:M,dense:B,onChangeDense:e=>O(e.target.checked),page:F,onPageChange:(e,t)=>{S(t)},onRowsPerPageChange:e=>D(+e.target.value)}))))}function Ne(e){let{domain:t,urlClickLocation:r,domain_id:n}=e;return i.createElement(i.Fragment,null,i.createElement(D.mu,{defaultSettings:{themeMode:"light",themeDirection:"ltr",themeContrast:"default",themeLayout:"vertical",themeColorPresets:"blue",themeStretch:!1}},i.createElement(a.Z,null,i.createElement(je,{domain_id:n,domain:t,urlClickLocation:r}))))}function Ue(e){let{id:t,domain:r,urlClickLocation:a,domain_id:s}=e;if("local-testing-root"!==t)return i.createElement(Ne,{domain:r,urlClickLocation:a,domain_id:s});n.createRoot(document.getElementById(t)).render(i.createElement(i.StrictMode,null,i.createElement(Ne,{domain:r,urlClickLocation:a,domain_id:s})))}}}]);